{"inkVersion":20,"root":[["\n",["done",{"#f":5,"#n":"g-0"}],null],"done",{"start":["^Testing runestone","\n",{"->":"testRunestone"},"ev",{"^->":"1_0"},"/ev",{"VAR=":"currentKnot","re":true},{"->":"currentKnot","var":true},{"#f":3}],"testRunestone":[["^The runestone has the text:","\n","^SHOW_RUNESTONE(true)This is a lot of text.<br> <br>","<>","\n","^On multiple lines.<br> <br>","<>","\n","^That will be turned into weird runetext.<br> <br>","<>","\n","^So we can't have too much.","\n","ev","str","^Erase the text.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n","^The text disappears. ",{"#":"eraseRunes"},"\n",["ev","str","^SHOW_RUNESTONE(false) Destroy the runestone.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n","^That's it, we're done.","\n",{"->":".^.^.^.^.g-0"},{"#f":5}]}],{"#f":5}],"g-0":["^Carrying on with our lives.","\n","ev","str","^Try again?","/str","/ev",{"*":".^.c-1","flg":4},{"c-1":["\n",{"->":".^.^.^.^"},{"#f":5}],"#f":5}]}],{"#f":1}],"1_0":[["^This is the start, from here you can go to one, two or three.","\n","ev","str","ev","str","^1.1","/str",{"f()":"UseButton"},"out","/ev","ev","str","^1.1","/str",{"f()":"Move"},"out","/ev","^Go to 1.1.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","ev","str","^1.2","/str",{"f()":"UseButton"},"out","/ev","ev","str","^1.2","/str",{"f()":"Move"},"out","/ev","^Go to 1.2.","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","ev","str","^1.3","/str",{"f()":"UseButton"},"out","/ev","ev","str","^1.3","/str",{"f()":"Move"},"out","/ev","^Go to 1.3.","/str","/ev",{"*":".^.c-2","flg":4},{"c-0":["\n",{"->":"1_0.1_1"},{"#f":5}],"c-1":["\n",{"->":"1_0.1_2"},{"#f":5}],"c-2":["\n",{"->":"1_0.1_3"},{"#f":5}]}],{"1_1":[["^You arrived at 1.1. From here you can go to 1.2, 2.1 or 2.2. ",{"#":"clearText"},"\n","ev","str","ev","str","^1.2","/str",{"f()":"UseButton"},"out","/ev","ev","str","^1.2","/str",{"f()":"Move"},"out","/ev","^Go to 1.2.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","ev","str","^2.1","/str",{"f()":"UseButton"},"out","/ev","ev","str","^2.1","/str",{"f()":"Move"},"out","/ev","^Go to 2.1.","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","ev","str","^2.2","/str",{"f()":"UseButton"},"out","/ev","ev","str","^2.2","/str",{"f()":"Move"},"out","/ev","^Go to 2.2.","/str","/ev",{"*":".^.c-2","flg":4},{"c-0":["\n",{"->":"1_0.1_2"},{"#f":5}],"c-1":["\n",{"->":"2_0.2_1"},{"#f":5}],"c-2":["\n",{"->":"2_0.2_2"},{"#f":5}]}],{"#f":1}],"1_2":[["^You arrived at 1.2. From here you can go to 1.1, 1.3, 2.1, 2.2 or 2.3. ",{"#":"clearText"},"\n","ev","str","ev","str","^1.1","/str",{"f()":"UseButton"},"out","/ev","ev","str","^1.1","/str",{"f()":"Move"},"out","/ev","^Go to 1.1.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","ev","str","^1.3","/str",{"f()":"UseButton"},"out","/ev","ev","str","^1.3","/str",{"f()":"Move"},"out","/ev","^Go to 1.3.","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","ev","str","^2.1","/str",{"f()":"UseButton"},"out","/ev","ev","str","^2.1","/str",{"f()":"Move"},"out","/ev","^Go to 2.1.","/str","/ev",{"*":".^.c-2","flg":4},"ev","str","ev","str","^2.2","/str",{"f()":"UseButton"},"out","/ev","ev","str","^2.2","/str",{"f()":"Move"},"out","/ev","^Go to 2.2.","/str","/ev",{"*":".^.c-3","flg":4},"ev","str","ev","str","^2.2","/str",{"f()":"UseButton"},"out","/ev","ev","str","^2.2","/str",{"f()":"Move"},"out","/ev","^Go to 2.3.","/str","/ev",{"*":".^.c-4","flg":4},{"c-0":["\n",{"->":".^.^.^"},{"#f":5}],"c-1":["\n",{"->":"1_0.1_3"},{"#f":5}],"c-2":["\n",{"->":"2_0.2_1"},{"#f":5}],"c-3":["\n",{"->":"2_0.2_2"},{"#f":5}],"c-4":["\n",{"->":"2_0.2_3"},{"#f":5}]}],{"#f":1}],"1_3":[["^You arrived at 1.3. From here you can go to 1.2, 2.2 or 2.3. ",{"#":"clearText"},"\n","ev","str","ev","str","^1.2","/str",{"f()":"UseButton"},"out","/ev","ev","str","^1.2","/str",{"f()":"Move"},"out","/ev","^Go to 1.2.","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","ev","str","^2.2","/str",{"f()":"UseButton"},"out","/ev","ev","str","^2.2","/str",{"f()":"Move"},"out","/ev","^Go to 2.2.","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","ev","str","^2.3","/str",{"f()":"UseButton"},"out","/ev","ev","str","^2.3","/str",{"f()":"Move"},"out","/ev","^Go to 2.3.","/str","/ev",{"*":".^.c-2","flg":4},{"c-0":["\n",{"->":"1_0.1_2"},{"#f":5}],"c-1":["\n",{"->":"2_0.2_1"},{"#f":5}],"c-2":["\n",{"->":"2_0.2_2"},{"#f":5}]}],{"#f":1}],"#f":3}],"2_0":["^This doesn't really exist.","\n",{"->":".^.2_2"},{"2_1":[["^You got to 2.1. So far you can only go to 3_0. ",{"#":"clearText"},"\n","ev","str","ev","str","^3.0","/str",{"f()":"UseButton"},"out","/ev","ev","str","^3.0","/str",{"f()":"Move"},"out","/ev","^Go to 3.0.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n",{"->":"3_0"},{"#f":5}]}],{"#f":1}],"2_2":[["^You got to 2.2. So far you can only go to 3_0. ",{"#":"clearText"},"\n","ev","str","ev","str","^3.0","/str",{"f()":"UseButton"},"out","/ev","ev","str","^3.0","/str",{"f()":"Move"},"out","/ev","^Go to 3.0.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n",{"->":"3_0"},{"#f":5}]}],{"#f":1}],"2_3":[["^You got to 2.3. So far you can only go to 3_0. ",{"#":"clearText"},"\n","ev","str","ev","str","^3.0","/str",{"f()":"UseButton"},"out","/ev","ev","str","^3.0","/str",{"f()":"Move"},"out","/ev","^Go to 3.0.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n",{"->":"3_0"},{"#f":5}]}],{"#f":1}],"#f":1}],"3_0":[["^The end, for now. ",{"#":"clearText"},"\n","ev","str","^Finish","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n",{"#":"continue"},"end",{"#f":5}]}],{"#f":1}],"testItemAdding":[["ev","str","^Add one test item 1","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Remove one test item 1","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^Add one test item 2","/str","/ev",{"*":".^.c-2","flg":4},"ev","str","^Remove one test item 2","/str","/ev",{"*":".^.c-3","flg":4},{"c-0":["\n","ev",{"VAR?":"Test"},1,{"f()":"alterItemStack"},"out","/ev","\n","^Done.","\n",{"->":"start"},{"#f":5}],"c-1":["\n","ev",{"VAR?":"Test"},-1,{"f()":"alterItemStack"},"out","/ev","\n","^Done. ",{"#":"image.one"},"\n",{"->":"start"},{"#f":5}],"c-2":["\n","ev",{"VAR?":"Test2"},1,{"f()":"alterItemStack"},"out","/ev","\n","^Done. ",{"#":"image.two"},"\n",{"->":"start"},{"#f":5}],"c-3":["\n","ev",{"VAR?":"Test2"},-1,{"f()":"alterItemStack"},"out","/ev","\n","^Done.","\n",{"->":"start"},{"#f":5}]}],{"#f":1}],"end":["^The end!","\n","end",{"#f":1}],"UpdateInventory":["^INV_SET(MainInventory)","\n",{"#f":1}],"alterStack":[{"temp=":"maxStack"},{"temp=":"amount"},{"temp=":"var"},"ev",{"VAR?":"var"},"/ev",{"temp=":"previousVal"},"ev",{"VAR?":"amount"},"/ev",{"temp=":"returnVal"},"ev",{"VAR?":"var"},{"VAR?":"amount"},"+",{"temp=":"var","re":true},"/ev","ev",{"VAR?":"var"},{"VAR?":"maxStack"},">","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"maxStack"},"/ev",{"temp=":"var","re":true},"ev",{"VAR?":"maxStack"},{"VAR?":"previousVal"},"-","/ev",{"temp=":"returnVal","re":true},{"->":".^.^.^.23"},null]}],"nop","\n","ev",{"VAR?":"var"},0,"<","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",0,"/ev",{"temp=":"var","re":true},"ev",{"VAR?":"previousVal"},"/ev",{"temp=":"returnVal","re":true},{"->":".^.^.^.31"},null]}],"nop","\n","ev",{"VAR?":"returnVal"},"/ev","~ret",{"#f":1}],"alterItemStack":[{"temp=":"amount"},{"temp=":"variable"},"ev",false,"/ev",{"temp=":"removeItem"},"ev",false,"/ev",{"temp=":"removeFromStack"},"ev",false,"/ev",{"temp=":"addItem"},"ev",{"VAR?":"variable"},"/ev",{"temp=":"displayName"},"ev",{"VAR?":"amount"},"/ev",{"temp=":"result"},"ev",false,"/ev",{"temp=":"stackableVar"},"ev",{"VAR?":"variable"},"/ev",["du","ev",{"VAR?":"Test"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^Test 1","/str","/ev",{"temp=":"displayName","re":true},"ev",{"^var":"Test_stack","ci":-1},{"VAR?":"amount"},3,{"f()":"alterStack"},"/ev",{"temp=":"result","re":true},"\n","ev",{"VAR?":"Test_stack"},0,"<=",{"VAR?":"result"},0,"<","&&","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",true,"/ev",{"temp=":"removeItem","re":true},{"->":".^.^.^.26"},null]}],"nop","\n","ev",true,"/ev",{"temp=":"stackableVar","re":true},{"->":".^.^.^.33"},null]}],["du","ev",{"VAR?":"Test2"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^Test 2","/str","/ev",{"temp=":"displayName","re":true},{"->":".^.^.^.33"},null]}],["du","ev",{"VAR?":"BaseItem"},"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","ev","str","^Base Item","/str","/ev",{"temp=":"displayName","re":true},{"->":".^.^.^.33"},null]}],"pop","nop","\n","ev",{"VAR?":"stackableVar"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"result"},0,">","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",true,"/ev",{"temp=":"addItem","re":true},{"->":".^.^.^.7"},null]}],"nop","\n","ev",{"VAR?":"result"},0,"<","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",true,"/ev",{"temp=":"removeFromStack","re":true},{"->":".^.^.^.15"},null]}],"nop","\n",{"->":".^.^.^.40"},null]}],[{"->":".^.b"},{"b":["\n","ev",{"VAR?":"amount"},0,"<",{"VAR?":"MainInventory"},{"VAR?":"variable"},"?","&&","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",true,"/ev",{"temp=":"removeItem","re":true},{"->":".^.^.^.11"},null]}],"nop","\n",{"->":".^.^.^.40"},null]}],"nop","\n","ev",{"VAR?":"MainInventory"},{"VAR?":"variable"},"?","!",{"VAR?":"amount"},0,">","&&","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"MainInventory"},{"VAR?":"variable"},"+",{"VAR=":"MainInventory","re":true},"/ev","ev",true,"/ev",{"temp=":"addItem","re":true},{"->":".^.^.^.53"},null]}],"nop","\n","ev",{"VAR?":"removeItem"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"MainInventory"},{"VAR?":"variable"},"-",{"VAR=":"MainInventory","re":true},"/ev",{"->":".^.^.^.59"},null]}],"nop","\n","ev",{"VAR?":"result"},0,"<","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"result"},-1,"*","/ev",{"temp=":"result","re":true},{"->":".^.^.^.67"},null]}],"nop","\n","ev",{"VAR?":"addItem"},{"VAR?":"removeItem"},"||",{"VAR?":"removeFromStack"},"||","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"f()":"UpdateInventory"},"out","/ev","^ <color=yellow>","ev",{"VAR?":"removeItem"},{"VAR?":"removeFromStack"},"||","/ev",[{"->":".^.b","c":true},{"b":["^ Removed ","ev",{"VAR?":"result"},"out","/ev","^ ","ev",{"VAR?":"displayName"},"out","/ev","^!",{"->":".^.^.^.12"},null]}],"nop","ev",{"VAR?":"addItem"},"/ev",[{"->":".^.b","c":true},{"b":["^ Added ","ev",{"VAR?":"result"},"out","/ev","^ ","ev",{"VAR?":"displayName"},"out","/ev","^!",{"->":".^.^.^.17"},null]}],"nop","^</color>","\n",{"->":".^.^.^.77"},null]}],"nop","\n",{"#f":1}],"IsInteractable":[{"temp=":"b"},"ev",{"VAR?":"b"},"/ev",[{"->":".^.b","c":true},{"b":["\n","^INTERACTABLE(true)","\n",{"->":".^.^.^.6"},null]}],[{"->":".^.b"},{"b":["\n","^INTERACTABLE(false)","\n",{"->":".^.^.^.6"},null]}],"nop","\n",{"#f":1}],"UseButton":[{"temp=":"b"},"^LOCATION(","ev",{"VAR?":"b"},"out","/ev","^)","\n",{"#f":1}],"Move":[{"temp=":"to"},"^MOVE(","ev",{"VAR?":"to"},"out","/ev","^)","\n",{"#f":1}],"global decl":["ev",{"list":{},"origins":["MainInventory"]},{"VAR=":"MainInventory"},0,{"VAR=":"Test_stack"},{"^->":"start"},{"VAR=":"currentKnot"},"/ev","end",null],"#f":1}],"listDefs":{"MainInventory":{"Test":1,"Test2":2,"BaseItem":3}}}